'use strict';import{syslog}from'./syslog.js';const script=document.querySelector('script[data-lstoreid]'),lstoreID=script&&script.dataset.lstoreid||'progbau/anonymous',cache=JSON.parse(localStorage.getItem(lstoreID))||{};export const store=(a,b)=>{if('string'!=typeof a)return null;if(void 0===b){if(!cache.hasOwnProperty(a))return null;try{return JSON.parse(JSON.stringify(cache[a]))}catch(a){return syslog.error(a),null}}else{const c=cache.hasOwnProperty(a)?cache[a]:null;try{cache[a]=JSON.parse(JSON.stringify(b)),localStorage.setItem(lstoreID,JSON.stringify(cache))}catch(b){null===c?delete cache[a]:cache[a]=c,syslog.warn(b)}return cache}};